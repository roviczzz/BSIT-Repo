<!DOCTYPE html>
<head>
    <style>
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@700&display=swap');

@font-face {
  font-family: 'SF Pro Text Thin';
  src: url('/fonts/SFProText-Thin.ttf') format('truetype');
  font-weight: 100;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'SF Pro Text Regular';
  src: url('/fonts/SFProText-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'SF Pro Text Bold';
  src: url('/fonts/SFProText-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

body {
    background-color: white;
    margin: 0;
    padding: 0;
}
body.dark-mode {
    background-color: #121212;
    color: #f0f0f0;
}
body.dark-mode a {
    color: #f0f0f0;
}
body.dark-mode .nav-links a:hover {
    background: #444;
}
body.dark-mode .popup-window,
body.dark-mode .popup-main,
body.dark-mode .popup-side {
    background-color: #1e1e1e;
    color: #f0f0f0;
}
body.dark-mode .popup-form input,
body.dark-mode .popup-form select {
    background: #2c2c2c;
    color: #f0f0f0;
    border-color: #555;
}

body.dark-mode .tb-schedule td {
    color: #f0f0f0;
}

body.dark-mode .event-details {
    color: #f0f0f0;
}

body.dark-mode .label-logo {
    filter: none;
}


#nav-bar {
    width: 200px;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: fixed;
    left: 0;
    top: 0;
    border-right: .2px solid transparent;
    border-image: linear-gradient(to bottom, #000000, #898989, #000000) 1;
}
.logo {
    width: 64px;
    height: 64px;
    background: #fff;
    margin-top: 32px;
    margin-bottom: 64px;
    content:url(https://iili.io/FGCDf71.png);
}

.label-logo {
    max-height: 150%;
    margin-top: 32px;
    margin-left: 250px;
    margin-bottom: 64px;
    content:url(https://iili.io/FGCDIBR.png);
    filter: invert(100%);
}

.nav-links {
    display: flex;
    flex-direction: column;
    gap: 24px;
    margin-top: auto;
    margin-bottom: auto;
}
.nav-links a {
    font-family: 'IBM Plex Mono', monospace;
    font-weight: 800;
    font-size: .5rem;
    text-decoration: none;
    color: black;
    padding: 12px 0;
    width: 150px;
    text-align: center;
    border-radius: 6px;
    font-size: 16px;
    transition: background 0.2s;
}
.nav-links a:hover {
    background: #555;
}

.event-details {
    margin-top: -45px;
    font-family: 'IBM Plex Mono', monospace;
    font-weight: 800;
    font-size: 1.2rem;
    line-height: 2;
    color: black;
    text-align: center;
}

.tb-schedule {
    font-family: 'IBM Plex Mono', monospace;
    font-weight: 300;
    font-size: .5rem;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    margin-top: 40px;
}
.tb-schedule table {
    border-collapse: collapse;
    text-align: center;
}
.tb-schedule td {
    padding: 8px 16px;
    font-size: 1rem;
    color: black;
}

#popup-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.3);
    backdrop-filter: blur(6px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.popup-squircle {
    width: 50px;
    height: 50px;
    background: #fff;
    border: 2px solid #ccc;
    border-radius: 18px;
    position: absolute;
    top: 20px;
    right: 20px;
    margin-top: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
}

.popup-exit {
    position: static;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #333;
    cursor: pointer;
    font-weight: 400;
    z-index: 2;
}

.popup-window {
    background: #fff;
    border-radius: 8px;
    position: relative;
    width: 85vw;
    height: 90vh;
    max-width: 1280px;
    max-height: 90vh;
    min-width: 900px;
    min-height: 600px;
    margin: auto;
    display: flex;
    flex-direction: row;
    box-sizing: border-box;
    box-shadow: 0 4px 32px rgba(0,0,0,0.10);
    padding: 0;
    overflow: hidden;
    align-items: stretch;
}

.popup-main {
    flex: 2.5;
    padding: 36px 36px 36px 36px;
    display: flex;
    flex-direction: column;
    background: #fff;
}

.popup-side {
    margin-right: 170px;
    margin-top: 20px;
    margin-bottom: 20px;
    flex: 1;
    background: #f4f4f4;
    padding: 66px 24px 36px 24px;
    display: flex;
    flex-direction: column;
    min-width: 320px;
    box-sizing: border-box;
    border-left: 1px solid #e0e0e0;
    position: relative;
}

.popup-tickets {
    display: flex;
    gap: 18px;
    margin-bottom: 32px;
}
.popup-ticket {
    width: 90px;
    height: 90px;
    background: #111;
    color: #fff;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.popup-ticket span {
    color: #ff2222;
    font-weight: bold;
    font-size: 1.1rem;
}

.popup-cart-title {
    font-weight: bold;
    font-size: 1.1rem;
    margin: 32px 0 12px 0;
    border-top: 1px solid #e0e0e0;
    padding-top: 18px;
}
.popup-cart-empty {
    color: #444;
    font-size: 1rem;
    margin-top: 24px;
    text-align: center;
}

.popup-summary-title {
    font-weight: bold;
    font-size: 1.1rem;
    margin-top: -15px;
    margin-bottom: 18px;
}
.popup-summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 1rem;
}
.popup-summary-total {
    font-weight: bold;
    margin: 18px 0;
    font-size: 1.1rem;
    border-top: 1px solid #e0e0e0;
    padding-top: 12px;
}

.popup-checkout-title {
    font-weight: bold;
    font-size: 1.1rem;
    margin: 24px 0 12px 0;
}
.popup-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.popup-form input[type="text"],
.popup-form input[type="email"] {
    padding: 6px 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1rem;
}
.popup-form label {
    font-size: 0.95rem;
    margin-bottom: 2px;
}
.popup-form .popup-radio-group {
    display: flex;
    gap: 16px;
    margin-bottom: 8px;
    align-items: center;
}
.popup-form .popup-purchase-btn {
    margin-top: 2px;
    padding: 8px 0;
    background: #111;
    color: #fff;
    border: none;
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
    font-weight: 600;
}

.ticket-btn {
    background: none;
    border: none;
    padding: 0;
    margin: 0 6px;
    cursor: pointer;
}
.ticket-btn img {
    display: block;
    width: 67px;
    height: 65px;
    transition: transform 0.18s cubic-bezier(.4,0,.2,1), box-shadow 0.18s;
}

.ticket-btn:hover img {
    transform: scale(1.06);
    box-shadow: 0 2px 8px rgba(0,0,0,0.10);
}

.ticket-btn:active img {
    animation: ticket-bounce 0.18s;
}

@keyframes ticket-bounce {
    0% { transform: scale(1);}
    50% { transform: scale(0.94);}
    100% { transform: scale(1);}
}
    </style>
</head>


<body>
<div id="nav-bar">
    <div class="logo"></div>
    <div class="nav-links">
        <a href="index.html">/homepage.html</a>
        <a href="#" id="register-btn">/register.html</a>
        <a href="#" id="dark-mode-toggle">/dark-mode</a>
    </div>
</div>

<div class="label-logo">Logo</div>
<div class="event-details">
    hiwaga hackat0n 2025<br>
    dlsud cics department<br>
    july 25, 2025<br>
    dlsud ictc bldg.<br>
    dasmarinas, cavite<br>
    <div id="countdown-timer" style="font-family:'IBM Plex Mono', monospace; font-size:1.1rem; text-align:center; margin-top:20px;"></div>
</div>

<div class="tb-schedule">
    <table>
        <tr>
            <td style="padding-right:220px; text-align:right;">Opening Ceremony & Keynote</td><td style="text-align:left;">9:00am</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Team Formation & Ideation</td><td style="text-align:left;">9:30am</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Hacking Begins</td><td style="text-align:left;">10:00am</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Lunch Break</td><td style="text-align:left;">12:00pm</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Mentorship Sessions</td><td style="text-align:left;">1:00pm</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Mid-point Check-ins</td><td style="text-align:left;">2:00pm</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Project Submission Deadline</td><td style="text-align:left;">3:00pm</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">Final Preparations for Judging</td><td style="text-align:left;">3:30pm</td>
        </tr>
        <tr>
            <td style="padding-right:220px; text-align:right;">End of Hacking / Judging Begins</td><td style="text-align:left;">4:00pm</td>
        </tr>
    </table>
</div>

<div id="popup-overlay" style="display:none; font-family: 'SF Pro Text Regular';">
    <div class="popup-window">
        <div class="popup-main">
            <div style="font-family: 'SF Pro Text Bold'; font-size:1.2rem; margin-bottom:18px;">Tickets</div>
            <div class="popup-tickets">
                <button class="ticket-btn" data-pax="1"><img src="https://iili.io/FGCbkAX.png" alt="1 pax"></button>
                <button class="ticket-btn" data-pax="2"><img src="https://iili.io/FGCbe9t.png" alt="2 pax"></button>
                <button class="ticket-btn" data-pax="3"><img src="https://iili.io/FGCbNSI.png" alt="3 pax"></button>
                <button class="ticket-btn" data-pax="4"><img src="https://iili.io/FGCbwcN.png" alt="4 pax"></button>
                <button class="ticket-btn" data-pax="5"><img src="https://iili.io/FGCb8ts.png" alt="5 pax"></button>
            </div>
            <div class="popup-cart-title" style="font-family: 'SF Pro Text Bold';">
                Shopping Cart <span id="cart-count" style="float:right; font-weight:normal;">0 Items</span>
            </div>
            <div class="popup-cart-empty" id="cart-empty">
                Your cart is empty<br>
                <span style="font-size:.95rem;">Add items to your cart to proceed with the checkout.</span>
            </div>
            <ul id="cart-list" style="list-style:none; padding:0; margin:0;"></ul>
        </div>
        <div class="popup-squircle">
            <button class="popup-exit" id="popup-exit">X</button>
        </div>
        <div class="popup-side">
            <div class="popup-summary-title" style="font-family: 'SF Pro Text Bold';">Checkout Summary</div>
            <div class="popup-summary-row">
                <span>Processing Fee</span><span id="processing-fee">15.00 PHP</span>
            </div>
            <div class="popup-summary-row">
                <span>Grand Total</span><span id="grand-total">0.00 PHP</span>
            </div>
            <div class="popup-summary-total">
                <span id="summary-items">0 Items</span> <span style="float:right;" id="summary-total">0.00 PHP</span>
            </div>
            <div class="popup-checkout-title" style="font-family: 'SF Pro Text Bold';">Checkout</div>
            <form class="popup-form" id="checkout-form">
                <input type="hidden" name="cart_items" id="cart-items-hidden">
                <input type="hidden" name="ticket_pax" id="ticket-pax-hidden">
                <input type="hidden" name="total_price" id="total-price-hidden">
                <label for="participant">Name of Participant</label>
                <input type="text" name="participant" id="participant" required>
                <label for="team">Team Name</label>
                <input type="text" name="team" id="team" required>
                <label for="section">Course Section</label>
                <input type="text" name="section" id="section" required>
                <label for="email">Email</label>
                <input type="email" name="email" id="email" required>
                <label for="phone">Phone Number</label>
                <input type="text" name="phone" id="phone" required>
                <label for="type">Type of Participant</label>
                <div class="popup-radio-group">
                    <label><input type="radio" name="type" value="Student" checked> Student</label>
                    <label><input type="radio" name="type" value="Guest"> Guest</label>
                </div>
                <label for="payment">Mode of Payment</label>
                <select name="payment" required>
                    <option>eWallet</option>
                    <option>Bank Transfer</option>
                </select>
                <button type="submit" class="popup-form popup-purchase-btn" id="purchase-btn" style="display:block;">Purchase</button>
            </form>
        </div>
    </div>
</div>

<script>
function startCountdown(targetDateTime) {
    const countdownElement = document.getElementById('countdown-timer');

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetDateTime - now;

        if (distance <= 0) {
            countdownElement.innerHTML = "🚀 Hiwaga Hackat0n has started!";
            clearInterval(timerInterval);
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        countdownElement.innerHTML = `Event starts in: <strong>${days}d ${hours}h ${minutes}m ${seconds}s</strong>`;
    }

    updateCountdown();
    const timerInterval = setInterval(updateCountdown, 1000);
}

const targetEventTime = new Date("July 25, 2025 09:00:00").getTime();
startCountdown(targetEventTime);



const ticketBtns = document.querySelectorAll('.ticket-btn');
const cartList = document.getElementById('cart-list');
const cartEmpty = document.getElementById('cart-empty');
const cartCount = document.getElementById('cart-count');
const summaryItems = document.getElementById('summary-items');
const summaryTotal = document.getElementById('summary-total');
const grandTotal = document.getElementById('grand-total');
const processingFee = 15.00;
let cart = [];

const ticketPrices = [0, 100, 180, 250, 320, 380];

function updateCartDisplay() {
    cartList.innerHTML = '';
    const cartItemsHidden = document.getElementById('cart-items-hidden');
    const paxValue = cart.length > 0 ? cart[0].label.split(" ")[0] : "";
    document.getElementById('ticket-pax-hidden').value = paxValue;
    document.getElementById('total-price-hidden').value = (cart.reduce((sum, item) => sum + item.price, 0) + processingFee).toFixed(2);
    if (cart.length === 0) {
        cartEmpty.style.display = 'block';
        cartCount.textContent = '0 Items';
        summaryItems.textContent = '0 Items';
        summaryTotal.textContent = '0.00 PHP';
        grandTotal.textContent = '0.00 PHP';
        if (cartItemsHidden) cartItemsHidden.value = '';
        document.getElementById('purchase-btn').style.display = 'block';
        return;
    }
    cartEmpty.style.display = 'none';
    cart.forEach(function(item, idx) {
        const li = document.createElement('li');
        li.style.display = 'flex';
        li.style.justifyContent = 'space-between';
        li.style.alignItems = 'center';
        li.style.marginBottom = '8px';
        li.innerHTML = `<span>${item.label} // Hiwaga Hackaton 2025 - ${item.price.toFixed(2)} PHP</span>
            <button type="button" class="remove-btn" data-idx="${idx}" style="margin-left:12px; background:#eee; border:none; border-radius:4px; padding:2px 8px; cursor:pointer;">Remove</button>`;
        cartList.appendChild(li);
    });
    cartCount.textContent = cart.length + (cart.length === 1 ? ' Item' : ' Items');
    summaryItems.textContent = cart.length + (cart.length === 1 ? ' Item' : ' Items');
    let total = cart.reduce((sum, item) => sum + item.price, 0);
    summaryTotal.textContent = total.toFixed(2) + ' PHP';
    grandTotal.textContent = (total + processingFee).toFixed(2) + ' PHP';
    if (cartItemsHidden) cartItemsHidden.value = JSON.stringify(cart);
    document.getElementById('purchase-btn').style.display = 'block';

    document.querySelectorAll('.remove-btn').forEach(function(btn) {
        btn.onclick = function() {
            const idx = parseInt(this.getAttribute('data-idx'));
            cart.splice(idx, 1);
            updateCartDisplay();
        };
    });
}

ticketBtns.forEach(function(btn) {
    btn.addEventListener('click', function() {
        const pax = parseInt(btn.getAttribute('data-pax'));
        cart = [];
        const label = pax + (pax === 1 ? ' pax' : ' pax');
        const price = ticketPrices[pax];
        cart.push({ label, price });
        updateCartDisplay();
    });
});

const scriptURL = 'https://script.google.com/macros/s/AKfycbwSaDbmuZfxGNYU8b6L4H9nquKPbJnTo_xp5I-nRMPdl1u6fx1MCjr-O1fAPiRCOVKfKg/exec';
const googleForm = document.getElementById('checkout-form');

googleForm.addEventListener('submit', e => {
    e.preventDefault();
    fetch(scriptURL, { method: 'POST', body: new FormData(googleForm)})
      .then(response => {
        alert("Form submitted successfully!");
        googleForm.reset();
        cart = [];
        updateCartDisplay();      
      })
      .catch(error => alert('Error!', error.message));
});

document.getElementById('register-btn').onclick = function(e) {
    e.preventDefault();
    document.getElementById('popup-overlay').style.display = 'flex';
};
document.getElementById('popup-exit').onclick = function() {
    document.getElementById('popup-overlay').style.display = 'none';
};
document.getElementById('dark-mode-toggle').onclick = function(e) {
    e.preventDefault();
    document.body.classList.toggle('dark-mode');
};

</script>

</body>
</html>